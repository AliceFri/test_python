### 1.2 操作系统的特征

    1. 并发: 宏观上同时发生， 微观上交替发生。（并行: 多核）

    2. 共享: 资源共享， 
            互斥共享: 一个时间段内只允许一个进程访问（qq 微信视频 摄像头）
            同时共享: 多个进程"同时"进行访问

    3. 虚拟: 把一个物理上的实体变为若干逻辑上的对应物
            虚拟存储器技术， 实际只有4G内存，用户看起来远大于4G内存
            时分复用（虚拟处理器）， 空分复用(虚拟存储器技术)
    
    4. 异步: 进程走走停停， 进程之间的异步性。


### 1.3 操作系统的发展与分类
    
    1. 手工操作阶段
    2. 批处理阶段 单道批处理系统， 多道批处理系统(操作系统开始出现)
    3. 分时操作系统
    4. 实时操作系统   强调规定时间内完成处理
    5. 网络操作系统
    6. 分布式操作系统
    7. 个人计算机系统

### 1.4 OS的运行机制和体系结构

    什么是指令？
    指令 就是CPU能识别，执行的最基本命令。

    特权指令: 不允许用户程序使用
    非特权指令: 都可以使用

    两种处理器状态：
    1. 用户态： 只能执行非特权指令
    2. 核心态： 特权指令 非特权指令都可以执行

    两种程序：
    1. 内核程序： 运行在核心态
    2. 应用程序： 运行在用户态
     
    操作系统的内核：
    最核心(必需)的功能： 
    (微内核)1. 时钟管理 2. 中断处理 3. 原语（特殊的程序，具有原子性）
    (大内核)：进程管理， 存储器管理，设备管理等功能。    
    大内核：效率高，缺点是功能多，结构复杂，难以维护


### 1.5 中断和异常

    1. 中断机制的诞生？
    多道程序并发执行， 发生中断，操作系统介入，进行管理工作。


    1. 中断发生时，cpu立即进入核心态
    2. 中断发生后，当前运行进程暂停运行，操作系统进行处理
    3. 对于不同的中断信号，会进行不同的处理

    中断是CPU从用户态进入核心态的唯一途径

    2. 中断的分类
        内中断(异常， 例外， 陷入)：信号来源于CPU内部，与当前执行的指令有关。
            自愿中断： trap指令
            被迫中断： 硬件故障（缺页）， 软件中断（/0）
        
        外中断：信号来自于CPU外部，与当前执行的指令无关
            外设请求
            人工干预
    
    3. 外中断的处理过程
        1. 执行每个指令之后，都要检查外部中断信号
        2. 检测到外部中断信号，保护中断进程的上下文（CPU环境， 各种通用寄存器）
        3. 根据中断信号类型转入相应的中断处理程序
        4. 恢复环境退出中断处理程序，继续进程。

### 1.6 系统调用

    系统调用会 int x指令，陷入指令（自愿中断）
    陷入指令，只能用户态调用

    操作系统会向上提供一些简单易用的服务，主要包括命令接口和程序接口

    应用程序通过系统调用请求操作系统的服务。 操作系统代为完成，保证系统的稳定性和安全性，防止用户进行非法操作

    有哪些系统调用？
    1. 设备管理
    2. 文件管理
    3. 进程控制
    4. 进程通信
    5. 内存管理















    