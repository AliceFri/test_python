
### InnoDB页

    将数据划分为若干个页， 以页作为磁盘和内存之间交互的基本单位， InnoDB中页的大小一般为 16 KB
    一次最少从磁盘中读取16KB的内容到内存中，一次最少把内存中的16KB 内容刷新到磁盘中。

### InnoDB 行格式

    Compact Redundant Dynamic Compressed

#### Compact (袖珍的) 行格式
    记录的额外信息   +    记录的真实数据

    记录的额外信息：
        1. 变长字段长度列表： 存储 占用的字节长度   （各变长字段数据占用的字节数按照列的顺序 逆序存放）
                如果最大长度 <= 255:  一个字节表示占用的字节长度
                    如果长度 > 255:  用1个/2个字节， 用第一个二进制位作为标志位 
                （在变长字段长度列表处只存储留在本页面中的长度,所以使用两个字节也可以存放下来）
                (变长字段长度列表中只存储值为 非 NULL 的列内容占用的长度,值为 NULL 的列的长度 是不储存的)
        2. NULL值列表 每一个二进制代表一列是否为null. 逆序对应。 整数个字节的位

        3. 记录头信息        5个字节 40个二进制位
            标记是否被删除， 标记记录类型， 标记下一条记录的相对位置 ...

    记录的真实数据：
        1. 真实数据
        2. 隐藏列  row_id(可选) transation_id(必有) 事务id roll_pointer(必有) 回滚指针
            若有主键则使用主键，无主键则选取一个uinque键， 若无unique键则会创建row_id

    即使是 CHAR(M) , 如果字符集是变长的， 也会被加到变长字段长度列表

#### Redundant (多余的) 行格式

    字段长度偏移列表 + 记录的真实数据

    没有null值列表， 但是也有null 比特位

    使用 Redundant 行格式的 CHAR(M) 类型的列是不会产生碎片
    把空间留充足了

MySQL 对一条记录占用的最大存储空间是有限制的,除了 BLOB 或者 TEXT 类型的列之外,
r其他所有的列(不包括隐藏列和记录头信息)占用的字节长度加起来不能超过 65535 个字节。
##### 行溢出 数据如何处理
    Compact 和 Reduntant 会吧溢出的部分分散存储到其他页中, 用20个字节存储指向这些页的地址。

##### 行溢出的临界点
    mysql  一个页中至少存放两行记录

#### Dynamic 和 Compressed 行格式
    mysql5.7 默认行 格式就是Dynamic 行溢出时会把所有的字节都存储到其他页面中。

    Compressed 行格式会采用压缩算法对页面进行压缩
