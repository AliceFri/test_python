Feed 流产品一般有两种形态，一种是基于算法推荐，另一种是基于关注关系并按时间排列。


### 推与拉之争

    拉： 用户读数据时， 再从关注列表里构建消息流，展示； 读扩散问题；

    推： 发布文章时， 推到关注者列表的timeline里； 写扩散问题；


    推模型， 可以采用消息队列，异步的向粉丝推送关注TimeLine


    由于feed流模型是典型的读多写少场景，所以即使推模型更复杂，也更倾向于推模型；

    在线推，离线拉 (活跃用户使用推模型， 非活跃用户使用拉模型)；


### 存储优化

    redis   time_line 加上过期时间， 可以以是否存在对应的time_line来表示是否为活跃用户；
            只有保存最近的一段时间的文章；
            zset结构；

### 分页器

    使用时间戳作为游标；

### 大规模推送

    可以把推送上百万粉丝 这样庞大的任务， 分成多个任务由多个mq去实现；

