

### RDB

    save, 一个主线程执行生成快照，会阻塞主线程
    bgsave, 创建子进程来生成快照，可以避免主线程的阻塞

    Redis 还可以通过配置文件的选项来实现每隔一段时间自动执行一次 bgsave 命令，默认会提供以下配置：
    save 900    1
    save 300    10
    save 60 10000

### 执行快照时，数据能被修改吗

    bgsave时，是可以的，用到了写时复制技术


### RDB  + AOF

    aof-use-rdb-preamble yes

    aof重写时生成的是rdb格式的数据， 加载快

    
大key 会导致持久化性能变差：
1. 写到日志的fsync的时间变长
2. 创建子进程复制内存的时间变长