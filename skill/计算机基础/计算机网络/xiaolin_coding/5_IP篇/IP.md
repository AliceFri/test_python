### 网络层
    IP协议是网络层协议
    实现主机与主机之间的通信, 也叫点对点通信

    IP 的作用是主机之间通信用的，而 MAC 的作用则是实现「直连」的两个设备之间通信，
    而 IP 则负责在「没有直连」的两个网络之间进行通信传输。

### IP地址

    IPv4 32位。

        A类：   0  + 网络号  7位 + 主机号 24位
        B类：   10  + 网络号 14位 +  主机号  16位
        C类：   110 + 网络号 21位 +  主机号  8位
        D类：   1110  + 组播地址 28位
        E类：   1111 +  28位 （未使用）

        主机号全为 1 指定某个网络下的所有主机，用于广播
        主机号全为 0 指定某个网络

    无分类地址 CIDR  a.b.c.d/x       x位网络号

    子网掩码： 掩码的意思就是掩盖掉主机号，剩余的就是网络号。那实际上子网掩码还有一个作用，那就是划分子网。

    私有IP地址范围：   A类：  10.0.0.0  --  10.255.255.255
                    B类：  172.16.0.0  -- 172.31.255.255
                    C类：  192.168.0.0  -- 192.168.255.255

    计算机使用一个特殊的 IP 地址 127.0.0.1 作为环回地址。与该地址具有相同意义的是一个叫做 localhost 的主机名。使用这个 IP 或主机名时，数据包不会流向网络。

###  IP分片与重组

    每种数据链路的最大传输单元 MTU 都是不相同的，如 FDDI 数据链路 MTU 4352、以太网的 MTU 是 1500 字节等。

    那么当 IP 数据包大小大于 MTU 时， IP 数据包就会被分片。

    经过分片之后的 IP 数据报在被重组的时候，只能由目标主机进行，路由器是不会进行重组的。

    在分片传输中，一旦某个分片丢失，则会造成整个 IP 数据报作废，
    所以 TCP 引入了 MSS 也就是在 TCP 层进行分片不由 IP 层分片，那么对于 UDP 我们尽量不要发送一个大于 MTU 的数据报文。

### IPv6基本认识
    128位， 更好的安全性和扩展性
    IPv4 和 IPv6 不能相互兼容

### 协议栈

    DNS: 根据域名 查找 ip

    ARP: 主机的路由表中可以找到下一跳的 IP 地址，所以可以通过 ARP 协议，求得下一跳的 MAC 地址。已知 IP 地址求 MAC 地址

    RARP: 已知 MAC 地址求 IP 地址

    DHCP:  动态获取 IP 地址  使用UDP广播通信

    NAT/NAPT: 网络地址转换，NAT 就是同个公司、家庭、教室内的主机对外部通信时，把私有 IP 地址转换成公有 IP 地址。

    ICMP: 互联网控制报文协议   

        确认 IP 包是否成功送达目标地址、报告发送过程中 IP 包被废弃的原因和改善网络设置等
