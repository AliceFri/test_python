


### 1. 离散对数
    

    a的i次方  % p = b
    i 唯一
    i 称为b的以a为底数的模p的离散对数

    知道 a 和 b ， 几乎算不出 i
    知道 i， 很容易算出 b

### 2. DH算法

    同一对 a p.

    两队公私钥， i1, b1.  i2, b2.

    双方可以自行 计算出对称加密密钥（不用交换密钥）。 

    即双方根据同一个底和模， 创建自己的公私钥，交换公钥，就可以进行对称加密通信了。

### 3. DHE算法
    那么干脆就让双方的私钥在每次密钥交换通信时，都是随机生成的、临时的，这个方式也就是 DHE 算法，
    E 全称是 ephemeral（临时性的）

### 4. ECDHE算法
    ECDHE 算法是在 DHE 算法的基础上利用了 ECC 椭圆曲线特性，可以用更少的计算量计算出公钥，以及最终的会话密钥。


    TLS 第一次握手
        客户端： Client Hello (TLS版本号， 支持的密码套件列表， 客户端随机数）

    TLS 第二次握手：
        服务端： Server Hello(TLS版本号， 选中的密码套件， 服务端随机数)
        服务端： Server Certificate
        服务端： Server Key Exchange
            选中曲线，创建私钥，将公钥用rsa证书私钥加密给 客户端
        服务端： Server Hello Done

    客户端验证证书

    TLS 第三次握手：
        客户端： Client Key Exchange   客户端创建私钥，把公钥发送给服务段
        客户端： Change Cipher Spec
        客户端： Enceypted Handshake Message

    最终的会话密钥，就是用「客户端随机数 + 服务端随机数 + x（ECDHE 算法算出的共享密钥） 」三个材料生成的。

    TLS 第四次握手：
        服务端： Change Cipher Spec
        服务端： Enceypted Handshake Message