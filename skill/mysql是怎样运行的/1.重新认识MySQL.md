
### 1. MySQL 的 客户端/服务器 架构

    mysql的服务器进程： mysqld
    mysql的客户端进程： mysql

#### 1.1 bin 目录下的命令

    mysqld 启动服务器进程

    mysqld_safe 间接的调用mysqld, 顺便启动另外一个监控进程（在服务器进程挂了的时候, 帮助重启他）。可以记录出错日志。

    mysql.server    间接调用 mysqld_safe
        mysql.server start
        mysql.server stop

    mysqld_multi    多服务器进程

    mysql
        mysql -h主机名 -u用户名 -p密码      启动客户端

#### 1.2 客户端与服务器连接的过程

    进程间通信
    a. TCP/IP
    b. 命名管道和共享内存    # 必须在同一台主机上
    c. Unix域套接字文件 /tmp/mysql.sock

#### 1.3 客户端查询流程

    客户端 ->  处理连接  -> (查询缓存， 语法解析， 查询优化） -> 存储引擎 -> 文件系统

##### 1. 连接管理
    当有一个客户端发起连接时， 服务器进程都会创建一个线程来专门处理与这个客户端的交互
    当客户端退出时， 服务器并不会立即将该线程销毁，而是缓存起来，新连接来到时则使用该线程

    连接，用户信息校验， ssl， 

##### 2. 解析与优化
    查询缓存： mysql缓存系统会监测涉及到的每张表， 只要该表结构或数据被修改，或使用了修改表的语句，那么使用该表的高速缓存查询都变为无效。
    mysql 8 中删除 查询缓存

    语法解析

    查询优化： 生成一个执行计划， EXPLAIN 

##### 3. 存储引擎

    innodb
    myisam
    memory
    csv
    ...
    
    

