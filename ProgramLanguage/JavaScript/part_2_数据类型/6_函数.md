## 函数

函数是一段可以反复调用的代码块。
函数还能接受输入的参数，不同的参数有唯一对应的返回值。

-----

### 1. 函数的声明

#### 1.1 function 命令

    function print(s) {
        console.log(s);
    }

#### 1.2 函数表达式

    const print = function(s) {
        console.log(s)
    };

    // 采用函数表达式声明函数时，function命令后面不带有函数名。
    // 如果加上函数名，该函数名只在函数体内部有效，在函数体外部无效。
    
    var print = function x(){
        console.log(typeof x);
    };

#### 1.3 Function 构造函数

----

### 2. 函数是第一等公民

JavaScript 语言将函数看作一种值，
与其它值（数值、字符串、布尔值等等）地位相同。
凡是可以使用值的地方，就能使用函数。比如，
可以把函数赋值给变量和对象的属性，
也可以当作参数传入其他函数，
或者作为函数的结果返回。
函数只是一个可以执行的值，此
外并无特殊之处。

### 函数名的提升， 与变量名的提升一致

-----

### 3. 函数的属性与方法

    name： 返回函数的名字， 变量赋值定义的匿名函数，返回变量名
    length: 函数预期传入的参数个数
    toString: 返回一个字符串，内容是函数的源码。原生的函数， 返回 function (){[native code]}

#### 3.1 函数作用域

全局作用域： 整个程序中一直存在

函数作用域： 只在函数内部存在

块级作用域： 

函数外部声明的变量就是全局变量， 它可以在函数内部读取。

==函数执行时所在的作用域，是定义时的作用域，而不是调用时所在的作用域。==

-----

### 4. 参数

#### 4.1 参数的省略

    function f(a, b) {
        return a;
    }
    
    f(1, 2, 3)  // 1
    f(1)        // 1
    f()         // undefined

#### 4.2 传递方式

    参数是原始类型是 值传递
    
    和Python 一样。
    参数是符合类型(数组， 对象， 其他函数)   地址传递(但注意，如果函数内部修改整个参数， 并不会影响到原始值)

#### 4.3 同名参数， 如果有同名参数， 则取最后出现的那个值

    function f(a, a) {
        console.log(a);
    }

    f(1) // undefined

#### 4.4 arguments 对象

arguments对象包含了函数运行时的所有参数，arguments[0]就是第一个参数，arguments[1]就是第二个参数

arguments对象带有一个callee属性，返回它所对应的原函数。

------------

### 5. 闭包

    function f1() {
        var n = 999;
        function f2() {
            console.log(n);
        }
        return f2;
    }

    var result = f1();
    result(); // 999

闭包的另一个用处，是封装对象的私有属性和私有方法。

    function Person(name) {
      var _age;
      function setAge(n) {
        _age = n;
      }
      function getAge() {
        return _age;
      }
    
      return {
        name: name,
        getAge: getAge,
        setAge: setAge
      };
    }
    
    var p1 = Person('张三');
    p1.setAge(25);
    p1.getAge() // 25  

#### 5.1 IIFE 立即调用的函数表达式

任何让解释器以表达式来处理函数定义的方法

    // 写法一
    var tmp = newData;
    processData(tmp);
    storeData(tmp);
    
    // 写法二
    (function () {
      var tmp = newData;
      processData(tmp);
      storeData(tmp);
    }());
    
    