

    TCP 是传输层的协议，而基于 TCP 造出来的 HTTP 和各类 RPC 协议，它们都只是定义了不同消息格式的应用层协议而已。

    RPC 远程过程调用， 本身并不是一个具体的协议，而是一种调用方式
    gRPC thrift, 就是比较有名的实现RPC的协议。


    HTTP 主要用于 B/S 架构，而 RPC 更多用于 C/S 架构。
    但现在其实已经没分那么清了，B/S 和 C/S 在慢慢融合。
    很多软件同时支持多端，比如某度云盘，既要支持网页版，还要支持手机端和 PC 端，
    如果通信协议都用 HTTP 的话，那服务器只用同一套就够了。
    而 RPC 就开始退居幕后，一般用于公司内部集群里，各个微服务之间的通讯。


### 1. HTTP和RPC的区别

    服务发现：
        http    DNS服务解析域名到ip地址
        rpc     一般通过中间服务保存服务名和ip-端口信息。 

    底层连接：
        http1.1     tcp连接，keep alive
        rpc         也是长连接，一般会再建个连接池，复用连接

    传输的内容：
        结构体转为二进制数组的过程就叫序列化，反过来将二进制数组复原成结构体的过程叫反序列化  json protobuf
        http        一般用json, http2之后会有hpack
        rpc         一般使用体积更小的protobuf协议。

        HTTP/2 在前者的基础上做了很多改进，
        所以性能可能比很多 RPC 协议还要好，甚至连 gRPC 底层都直接用的 HTTP/2

        HTTP/2 是 2015 年出来的。
        那时候很多公司内部的 RPC 协议都已经跑了好些年了，基于历史原因，一般也没必要去换了。
