

### 虚拟内存空间分布

    32位 1G 内核空间  3G 用户空间
    64位 128T 内核空间 128T 用户空间


### malloc是如何分配内存的

    1. 通过brk()系统调用从堆分配内存   小于128kb
    2. 通过mmap()系统调用在文件映射区域分配内存   大于128kb

    malloc分配的是虚拟内存， 若查找页表发生缺页中端。 然后操作系统会建立虚拟内存和物理内存之间的映射关系

    malloc会申请比实际需要更多的内存

    malloc free释放内存，并不一定会还给操作系统（堆不会返还，mmap会返还）（类似python的free_list列表）