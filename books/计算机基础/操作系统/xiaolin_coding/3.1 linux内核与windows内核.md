### 内核

    什么是内核： 内核是应用连接硬件设备的桥梁（内存， cpu, 硬盘，网卡等）

    内核的功能:  
        1. 管理进程，线程。 进程调度的能力
        2. 内存的分配与回收。 内存管理的能力
        3. 为进程与硬件设备提供通信能力。 硬件通信能力
        4. 系统调用。用户程序与操作系统之间的接口

    内核具有很高的权限，应用程序具有的权限较小。
    内存会分成两个区域：
        1. 内核空间： 这个内存空间只有内核程序可以访问
        2. 用户空间： 这个内存空间专门给应用程序使用
    用户态：程序使用用户空间时，只能访问用户空间
    内核态：程序使用内核空间时，能访问所有内存空间

    应用程序如果需要进入内核空间，就需要通过系统调用(中断)!

### linux内核设计的理念
    1. MultiTask 多任务   支持并发/并行
    2. SMP 对称多处理
        每个CPU的地位是相等的，多个CPU可以共享同一个内存，每个CPU都可以访问完整的内存和硬件资源。每个程序都可以被分配到任意一个CPU上执行
    3. ELF 可执行文件链接格式
        linux系统中可执行文件的存储格式
        代码 -->(编译) 汇编代码 -->(汇编) 目标代码 -->(链接) 可执行文件(ELF文件)
    4. Monolithic Kernel 宏内核
        linux的内核就是一个完整的可执行程序，且拥有最高的权限
        宏内核的特征就是系统内核的所有模块，都运行在内核态
        
        优点： 性能高，不用频繁切换用户态到内核态
        微内核：内核只有最基本最基本的功能（驱动程序，文件系统被放到用户空间），只保留进程调度等功能。
        优点： 提高稳定性和可靠性

### windows设计

    1. MultiTask 和 SMP
    2. 混合型内核， ，内核里面会有一个最小版本的内核，然后其他模块会在这个基础上搭建，然后实现的时候会跟宏内核类似，
        也就是把整个内核做成一个完整的程序，大部分服务都在内核中，这就像是宏内核的方式包裹着一个微内核。
    3. 可执行文件格式叫 PE。 扩展名通常是.exe .dll .sys